<?php
session_start();
?>

<!-- page d'offre pour le projet dev web à CESI -->

<!doctype html>

<html lang="fr">

    <head>
        <meta charset="utf-8">
        <meta name="mot_clé" content="HTML">
        <meta name="description" content="page d'offre">
        <meta name="auteur" content="King Mickaël">
        <meta name="date_de_mise_a_jour" content="10/03/2025">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" href="../assets/favicon.ico" type="image/x-icon">
        <link href="../css/en-tete.css" rel="stylesheet" type="text/css">
        <link href="../css/offre.css" rel="stylesheet" type="text/css">
        <link href="../css/footer.css" rel="stylesheet" type="text/css">

        <title>CESI ta chance | offre</title>
    </head>

    <body>

        <span id="backend"><?php require_once __DIR__ . '/../../app/Controllers/offre_controller.php'; ?></span>

        <!--arriere plan de la page entière-->
        <div id="arriere_plan"></div>

        <!-- Notification - Accès Refusé -->
        <div id="notification"></div>

        <!-- ✅ Notification de succès -->
        <div id="success-notification" class="notification success"></div>
    
        <!--En-tête commun à toute les pages-->
        <header>
            
            <!--affichage principal de l'en-tête-->
            <div class="flex_container" id="flex_container_1">
                <nav>
                    <a id="a_logo" href="../../index.html"><img id="logo" src="../assets/logo_2.png" alt="logo"></a>
                </nav>

                <div class="flex_container" id="flex_container_2">
                    <nav>
                        <a class="lien" href="page entreprise1.1.html"><b>Entreprise</b></a>
                        <a class="lien" href="offre.html"><b>Offre</b></a>
                        <a class="lien" href="about.html"><b>A propos de nous</b></a>
                    </nav>
                </div>
                
                <div class="flex_container" id="flex_container_3">
                    <div class="tooltip" id="profil_1">
                        <span class="tooltip_text_gauche" id="tooltip_profil">Vous êtes connecté</span>
                    </div>

                    <div id="modalConnexion" class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <iframe src="connexion.html" frameborder="0"></iframe>
                        </div>
                    </div>

                    <nav>
                        <a id="connexion" href="connexion.html"><b>Connexion</b></a>
                    </nav>

                    <p class="tooltip" id="bouton_burger_1"><b>☰</b>
                        <span class="tooltip_text_gauche" id="tooltip_burger">Liens de navigation</span>
                    </p>
                </div>
            </div>

            <!--affichage du nom/prenom et option de deconnexion apres appuie sur le profil (paysage)-->
            <div class="flex_container" id="lien_profil_1">
                <span>Connecter en tant que :</span>

                <div id="nom_prenom_lien_profil_1">
                    <span><b>Nom</b></span>
                    <span><b>Prénom</b></span>
                </div>

                <div class="flex_container" id="flex_container_4">
                    <nav>
                        <a class="lien_deconnexion" href="#"><b>Déconnexion</b></a>
                        <img id="porte_sortie_1" src="../assets/porte_sortie.png" alt="logo">
                    </nav>
                </div>
            </div>

            <!--affichage de liens secondaire apres appuie du bouton burger (paysage)-->
            <div class="flex_container" id="lien_burger_2">
                <nav>
                    <a class="lien" href="stat.html"><b>Statistique</b></a>
                    <a class="lien" href="wishlist.html"><b>Wish list</b></a>
                    <a class="lien" href="petudiant.html" data-role="admin,pilote" ><b>Étudiant</b></a>
                    <a class="lien" href="ppilote.html" data-role="admin" ><b>Pilote</b></a>
                </nav>

                <!--affichage de liens secondaire supplementaire apres appuie du bouton burger (paysage)-->
                <div class="flex_container" id="lien_burger_3">
                    <nav>
                        <a class="lien" href="page entreprise1.1.html"><b>Entreprise</b></a>
                        <a class="lien" href="offre.html"><b>Offre</b></a>
                        <a class="lien" href="about.html"><b>A propos de nous</b></a>
                    </nav>
                </div>
            </div>

            <!--affichage du nom/prenom et option de deconnexion apres appuie sur le profil (portrait)-->
            <div class="flex_container" id="lien_profil_2">
                <span id="x_3">✖</span>
                <span>Connecter en tant que :</span>

                <div id="nom_prenom_lien_profil_2">
                    <span><b>Nom</b></span>
                    <span><b>Prénom</b></span>
                </div>

                <div class="flex_container" id="flex_container_5">
                    <nav>
                        <a class="lien_deconnexion"  href="#"><b>Déconnexion</b></a>
                        <img id="porte_sortie_2" src="../assets/porte_sortie.png" alt="logo">
                    </nav>
                </div>
            </div>

            <!--affichage de liens secondaire apres appuie du bouton burger (portrait)-->
            <div class="flex_container" id="lien_burger_1">
                <span id="x_2">✖</span>

                <nav>
                    <a class="lien" href="stat.html"><b>Statistique</b></a>
                    <a class="lien" href="wishlist.html"><b>Wish list</b></a>
                    <a class="lien" href="petudiant.html" data-role="admin,pilote" ><b>Étudiant</b></a>
                    <a class="lien" href="ppilote.html" data-role="admin" ><b>Pilote</b></a>
                </nav>

                <!--affichage de liens secondaire supplementaire apres appuie du bouton burger (portrait)-->
                <div class="flex_container" id="lien_burger_3">
                    <nav>
                        <a class="lien" href="page entreprise1.1.html"><b>Entreprise</b></a>
                        <a class="lien" href="offre.html"><b>Offre</b></a>
                        <a class="lien" href="about.html"><b>A propos de nous</b></a>
                    </nav>
                </div>
            </div>
        </header>

        <form method="get">

            <!--barres de recherche (nom_poste et lieu) pour les offres-->
            <section id="section_recherche">

                <!--(paysage)-->
                <form method="GET">
                    <div class="flex_container" id="flex_container_recherche_1">
                        <div class="flex_container" id="flex_container_recherche_2">
                            <img id="ampoule_eteinte_1" src="../assets/ampoule_eteinte.png" alt="ampoule_eteinte">
                            <img id="ampoule_allumer_1" src="../assets/ampoule_allumer.png" alt="ampoule_allumer">
                            <input name="recherche_nom" id="barre_recherche_offre_1" type="search" placeholder="nom_poste, mot-clé...">
                            <span id="separateur_recherche_1">|</span>
                            <img id="localisation_eteinte_1" src="../assets/localisation.png" alt="localisation">
                            <img id="localisation_allumer_1" src="../assets/localisation_rouge.png" alt="localisation">
                            <input name="recherche_lieu" id="barre_recherche_lieu_1" type="search" placeholder="lieu">

                            <button name="bouton_rechercher" class="tooltip" id="bouton_recherche_1" type="submit">
                                <img id="loupe_recherche_1" src="../assets/loupe.png" alt="loupe">
                                <img id="loupe_recherche_3" src="../assets/loupe_allumer.png" alt="loupe">
                                <span class="tooltip_text_gauche" id="tooltip_loupe">bouton recherche</span>
                            </button>
                        </div>
                    </div>
                </form>


                <!--(portrait)-->
                <div class="flex_container" id="flex_container_recherche_8">
                    <div class="flex_container" id="flex_container_recherche_6">
                        <div class="flex_container" id="flex_container_recherche_3">
                            <img id="ampoule_eteinte_2" src="../assets/ampoule_eteinte.png" alt="ampoule_eteinte">
                            <img id="ampoule_allumer_2" src="../assets/ampoule_allumer.png" alt="ampoule_allumer">
                            <input id="barre_recherche_offre_2" type="search" placeholder="nom_poste, mot-clé...">
                        </div>

                        <div class="flex_container" id="flex_container_recherche_7">
                            <button id="bouton_mode_recherche_1" type="button">recherche</button>
                            <img id="loupe_recherche_2" src="../assets/loupe.png" alt="loupe">
                        </div>
                    </div>

                    <div class="flex_container" id="flex_container_recherche_4">
                        <img id="localisation_eteinte_2" src="../assets/localisation.png" alt="localisation">
                        <img id="localisation_allumer_2" src="../assets/localisation_rouge.png" alt="localisation">
                        <input id="barre_recherche_lieu_2" type="search" placeholder="lieu">
                    </div>

                    <div class="flex_container" id="flex_container_recherche_5">
                        <button id="bouton_recherche_2" type="submit"><b>Rechercher</b></button>
                    </div>

                    <button id="bouton_mode_recherche_2" type="button">>></button>
                </div>


                <!--barre de filtre (portrait)-->
                <div class="flex_container" id="flex_container_filtre_portrait_1">
                    <div class="flex_container" id="flex_container_filtre_portrait_2">
                        <div class="flex_container_portrait" id="flex_container_filtre_portrait_specialite">
                            <b id="b_specialite_portrait">Specialité :</b>
    
                            <select id="filtre_specialite_portrait">
                                <option>Tout</option>
                                <option>Généraliste</option>
                                <option>BTP</option>
                                <option>Informatique</option>
                                <option>Système éléctronique embarqué</option>
                            </select>
                        </div>
    
                        <div class="flex_container_portrait">
                            <b id="b_teletravail_portrait">Télétravail :</b>
    
                            <select id="filtre_teletravail_portrait">
                                <option>Tout</option>
                                <option>Oui</option>
                                <option>Non</option>
                            </select>
                        </div>
    
                        <div class="flex_container_portrait">
                            <b id="b_duree_portrait">Durée :</b>
    
                            <select id="filtre_duree_portrait">
                                <option>Tout</option>
                                <option>2 mois ou moins</option>
                                <option>3 mois</option>
                                <option>4 mois</option>
                                <option>5 mois</option>
                                <option>6 mois et plus</option>
                            </select>
                        </div>
    
                        <div class="flex_container_portrait">
                            <b id="b_contrat_portrait">Contrat :</b>
    
                            <select id="filtre_contrat_portrait">
                                <option>Tout</option>
                                <option>Stage</option>
                                <option>Alternance</option>
                            </select>
                        </div>
    
                        <div class="flex_container_portrait">
                            <b id="b_niveau_etude_portrait">Niveau d'étude :</b>

                            <select id="filtre_niveau_etude_portrait">
                                <option>Tout</option>
                                <option>Aucun</option>
                                <option>Bac +2</option>
                                <option>Bac +3</option>
                                <option>Bac +4</option>
                                <option>Bac +5</option>
                            </select>
                        </div>
    
                        <div class="flex_container_portrait">
                            <b id="b_salaire_portrait">Salaire :</b>
    
                            <select id="filtre_salaire_portrait">
                                <option>Tout</option>
                                <option>+800€</option>
                                <option>+1200€</option>
                                <option>+1600€</option>
                                <option>+2000€</option>
                            </select>
                        </div>
    
                        <div class="flex_container_portrait" id="filtre_langue_portrait">
                            <b id="b_langue_portrait">Langue :</b>
    
                            <select id="filtre_langue_portrait">
                                <option>Tout</option>
                                <option>Français</option>
                                <option>Anglais</option>
                                <option>Espagnol</option>
                                <option>Allemand</option>
                            </select>
                        </div>
                    </div>

                    <div class="flex_container" id="flex_container_filtre_portrait_3">
                        <img id="filtre" src="../assets/filtre.png" alt="loupe">
                        <button id="bouton_mode_filtre_portrait_1" type="button">filtre</button>
                    </div>

                    <button id="bouton_mode_filtre_portrait_2" type="button"><<</div>
                </div>
            </section>


            <!--barres secondaire qui contient les switchs et le bouton pour créer une offre-->
            <section id="barre_secondaire">
                <div class="section_switch">
                    <div class="switch" id="switch_1">
                        <div class="switch_rond" id="switch_rond_1"></div>
                    </div>

                    <span id="description_switch_affichage_1">Mode grille</span>
                </div>

                <div class="section_switch">
                    <div class="switch" id="switch_2">
                        <div class="switch_rond" id="switch_rond_2"></div>
                    </div>

                    <span id="description_switch_affichage_2">Afficher filtre</span>
                </div>

                <div id="bouton_creer">+ Créer</div>
            </section>


            <!--barres de filtre pour la recherche des offres-->
            <section id="section_filtre">
                <div class="flex_container" id="flex_container_filtre_1">
                    <div class="flex_container">
                        <b id="b_specialite">Specialité :</b>

                        <select id="filtre_specialite">
                            <option>Tout</option>
                            <option>Généraliste</option>
                            <option>BTP</option>
                            <option>Informatique</option>
                            <option>Système éléctronique embarqué</option>
                        </select>
                    </div>

                    <div class="flex_container">
                        <b id="b_teletravail">Télétravail :</b>

                        <select id="filtre_teletravail">
                            <option>Tout</option>
                            <option>Oui</option>
                            <option>Non</option>
                        </select>
                    </div>

                    <div class="flex_container">
                        <b id="b_duree">Durée :</b>

                        <select id="filtre_duree">
                            <option>Tout</option>
                            <option>2 mois ou moins</option>
                            <option>3 mois</option>
                            <option>4 mois</option>
                            <option>5 mois</option>
                            <option>6 mois et plus</option>
                        </select>
                    </div>

                    <div class="flex_container">
                        <b id="b_contrat">Contrat :</b>

                        <select id="filtre_contrat">
                            <option>Tout</option>
                            <option>Stage</option>
                            <option>Alternance</option>
                        </select>
                    </div>

                    <div class="flex_container">
                        <b id="b_niveau_etude">Niveau d'étude :</b>

                        <select id="filtre_niveau_etude">
                            <option>Tout</option>
                            <option>Aucun</option>
                            <option>Bac +2</option>
                            <option>Bac +3</option>
                            <option>Bac +4</option>
                            <option>Bac +5</option>
                        </select>
                    </div>

                    <div class="flex_container">
                        <b id="b_salaire">Salaire :</b>

                        <select id="filtre_salaire">
                            <option>Tout</option>
                            <option>+800€</option>
                            <option>+1200€</option>
                            <option>+1600€</option>
                            <option>+2000€</option>
                        </select>
                    </div>

                    <div class="flex_container" id="filtre_langue">
                        <b id="b_langue">Langue :</b>

                        <select id="filtre_langue">
                            <option>Tout</option>
                            <option>Français</option>
                            <option>Anglais</option>
                            <option>Espagnol</option>
                            <option>Allemand</option>
                        </select>
                    </div>
                </div>
            </section>
        </form>

        <main id="main_offre">

            <!--Liste déroulante des offres disponibles-->
            <section id="section_liste_offre">
                <div id="liste_offre">
                    <?php foreach($donne_offre as $donne): ?>
                        <a class="fenetre_offre" href="?id_offre=<?php echo $donne['Id_Offre']; ?>">
                            <img class="logo_offre" src="../assets/ampoule_allumer.png" alt="logo_entreprise">
                        
                            <div class="apercu_offre">
                                <h2><?php echo htmlentities($donne['Titre']); ?></h2>
                                <p>Nom entreprise</p>
                                <p><?php echo htmlentities($donne['Villes']); ?></p>
                                <p><?php echo htmlentities($donne['Niveau_Etude']); ?></p>
                                <p><?php echo htmlentities($donne['Date_Mise_En_Ligne']); ?></p>
                            </div>
                        </a>
                    <?php endforeach; ?>

                <!--<div class="fenetre_offre">
                        <img class="logo_offre" src="../assets/ampoule_allumer.png" alt="logo_entreprise">
                    
                        <div class="apercu_offre">
                            <h2>Titre stage</h2>
                            <p>Nom entreprise</p>
                            <p>Lieu</p>
                            <p>Niveau d'étude</p>
                            <p>Date posté</p>
                        </div>
                    </div>-->
                </div>
                
                <!--pagination de la liste déroulante des offres-->
                <div id="pagination_offre_1">
                    <?php if($page > 1): ?>
                        <a href="?page=<?php echo $page - 1; ?>" class="tooltip" id="bouton_pagination_gauche_1"><
                            <span class="tooltip_text_gauche" id="tooltip_bouton_pagination_gauche_1">Page précédente</span>
                        </a>
                    <?php endif; ?>

                    <span id="numéro_pagination_1"><?php echo $page; ?></span>

                    <?php if($page < $total_page): ?>
                        <a href="?page=<?php echo $page + 1; ?>" class="tooltip" id="bouton_pagination_droite_1">>
                            <span class="tooltip_text_gauche" id="tooltip_bouton_pagination_droite_1">Page suivante</span>
                        </a>
                    <?php endif; ?>
                </div>
            </section>


            <!--affichage détaillé de l'offre séléctionée-->
            <section id="section_detaille_offre">
                <section id="resumer_offre">
                    
                    <!--résumé de l'offre séléctionée-->
                    <?php if ($offre_choisi): ?>
                        <div id="contenaire_offre">
                            <div id="info_offre">
                                <div id="groupe_info_offre">
                                    <h2 class="titre_detaille_offre"><?php echo htmlentities($offre_choisi['Titre']); ?></h2>
                                    <p>Nom entreprise :<?php echo htmlentities($offre_choisi['Nom']); ?></p>
                                    <p>Ville :<?php echo htmlentities($offre_choisi['Villes']); ?></p>
                                    <p>Spécialité :<?php echo htmlentities($offre_choisi['Specialité']); ?></p>
                                    <p>Niveau d'étude requis :<?php echo htmlentities($offre_choisi['Niveau_Etude']); ?></p>
                                    <p>Durée contrat :<?php echo htmlentities($offre_choisi['Duree_Stage']); ?></p>
                                    <p>Télétravail :<?php echo htmlentities($offre_choisi['teletravail']); ?></p>
                                    <p>Salaire :<?php echo htmlentities($offre_choisi['Remuneration']); ?></p>
                                    <p>langue :<?php echo htmlentities($offre_choisi['Langue']); ?></p>
                                    <p>Date posté :<?php echo htmlentities($offre_choisi['Date_Mise_En_Ligne']); ?></p>
                                    <!--<p>Nombre de candidats :</p>-->
                                </div>

                                <img class="logo_detaille_offre" src="../assets/filtre.png" alt="logo_entreprise">
                            </div>

                            <!--boutons en lien avec l'offre séléctionner-->
                            <div id="groupe_bouton_offre">
                                <button class="bouton_offre" id="bouton_postuler" type="button" data-role="admin,etudiant" >Postuler</button>
                                <button class="bouton_offre" id="bouton_wish_list" type="button" data-role="admin,etudiant">+ Wish_list</button>
                                <a href="#"><button class="bouton_offre" id="bouton_entreprise" type="button">Consulter entreprise</button></a>

                                <button class="tooltip" id="bouton_modifier" type="button" data-role="admin,pilote"><img id="image_modifier" src="../assets/modifier.png" alt="image_modifier">
                                    <span class="tooltip_text_bas" id="tooltip_bouton_modifier">Modifier l'offre</span>
                                </button>

                                <button class="tooltip" id="bouton_poubelle" type="button" data-role="admin,pilote"><img id="image_poubelle" src="../assets/poubelle.png" alt="image_poubelle">
                                    <span class="tooltip_text_bas" id="tooltip_bouton_poubelle">Supprimer l'offre</span>
                                </button>
                            </div>
                        </div>
                    

                    
                        <!--section de la présentation de l'offre séléctionée-->
                        <section id="presentation_offre">
                            <div id="contenaire_presentation">
                                <h2 class="titre_detaille_offre">Présentation stage</h2>
                                <p><?php echo htmlentities($offre_choisi['Description_Offre']); ?></p>
                            </div>
                        </section>


                        <!--section des compétences de l'offre séléctionée-->
                        <section id="competence_offre">
                            <div id="contenaire_competence">
                                <h2 class="titre_detaille_offre">Compétence requise</h2>

                                <p id="liste_competence"><?php echo htmlentities($offre_choisi['Competences']); ?></p>
                            </div>
                        </section>


                        <!--section des avantages de l'offre séléctionée-->
                        <section id="avantage_offre">
                            <div id="contenaire_avantage">
                                <h2 class="titre_detaille_offre">Avantage</h2>

                                <p id="liste_avantage"><?php echo htmlentities($offre_choisi['Avantages']); ?></p>
                            </div>
                        </section>
                    <?php endif; ?>
                    

                    <form id="formulaire_offre_creer" method="POST">

                        <!--résumé de l'offre séléctionée (formulaire créer)-->
                        <div id="contenaire_offre_modifier">
                            <h2 class="titre_detaille_offre">Résumer offre</h2>
                            <label for="champ_titre_stage">Saisissez le titre du stage :</label>
                            <input name="creer_titre_offre" class="champs_texte_modifier_resumer" id="champ_titre_stage" type="text" placeholder="Titre stage" required>
                            <label for="champ_nom_entreprise">Saisissez le nom de votre entreprise :</label>
                            <input name="creer_nom_entreprise_offre" class="champs_texte_modifier_resumer" id="champ_nom_entreprise" type="text" placeholder="Nom enreprise" required>
                            <label for="champ_ville">Saisissez le lieu de votre stage :</label>
                            <input name="creer_ville_entreprise_offre" class="champs_texte_modifier_resumer" id="champ_ville" type="text" placeholder="Ville" required>

                            <label for="specialite_modifier">Spécifiez la spécialité du stage :</label>
                            <select name="creer_specialite_offre" class="liste_deroulante_modifier_resumer" id="specialite_modifier">
                                <option value="generaliste">Généraliste</option>
                                <option value="btp">BTP</option>
                                <option value="informatique">Informatique</option>
                                <option value="s3e">Système éléctronique embarqué</option>
                            </select>

                            <label for="niveau_etude_modifier">Spécifiez le niveau d'étude requis :</label>
                            <select name="creer_niveau_etude_offre" class="liste_deroulante_modifier_resumer" id="niveau_etude_modifier">
                                <option value="aucun">Aucun</option>
                                <option value="bac+2">Bac +2</option>
                                <option value="bac+3">Bac +3</option>
                                <option value="bac+4">Bac +4</option>
                                <option value="bac+5">Bac +5</option>
                            </select>

                            <label for="duree_contrat_modifier">Spécifiez la durée du stage :</label>
                            <select name="creer_duree_stage_offre" class="liste_deroulante_modifier_resumer" id="duree_contrat_modifier">
                                <option value="2mois">2 mois ou moins</option>
                                <option value="3mois">3 mois</option>
                                <option value="4mois">4 mois</option>
                                <option value="5mois">5 mois</option>
                                <option value="6mois">6 mois et plus</option>
                            </select>

                            <label for="contenaire_bouton_radio_teletravail">Spécifiez si le télétravail est disponible :</label>
                            <div id="contenaire_bouton_radio_teletravail">
                                <input name="creer_teletravail_offre" value="oui" class="bouton_radio_modifier_premier" id="teletravail_modifier_oui_v2" type="radio" required>
                                <label for="teletravail_modifier_oui_v2">Oui</label>
                                <input name="creer_teletravail_offre" value="non" class="bouton_radio_modifier" id="teletravail_modifier_non_v2" type="radio">
                                <label for="teletravail_modifier_non_v2">Non</label>
                            </div>

                            <label for="salaire_modifier">Spécifiez le salaire du stage :</label>
                            <select name="creer_salaire_offre" class="liste_deroulante_modifier_resumer" id="salaire_modifier">
                                <option value="+800€">+800€</option>
                                <option value="+1200€">+1200€</option>
                                <option value="+1600€">+1600€</option>
                                <option value="+2000€">+2000€</option>
                            </select>

                            <label for="langue_modifier">Spécifiez la langue demandé :</label>
                            <div id="contenaire_bouton_checkbox_langue">
                                <div class="contenaire_groupe_bouton_checkbox">
                                    <input name="creer_langue_offre" value="francais" class="bouton_checkbox_modifier" id="langue_modifier_francais" type="radio" name="langue_modifier">
                                    <label for="langue_modifier_francais">Français</label>
                                </div>

                                <div class="contenaire_groupe_bouton_checkbox">
                                    <input name="creer_langue_offre" value="anglais" class="bouton_checkbox_modifier" id="langue_modifier_anglais" type="radio" name="langue_modifier">
                                    <label for="langue_modifier_anglais">Anglais</label>
                                </div>

                                <div class="contenaire_groupe_bouton_checkbox">
                                    <input name="creer_langue_offre" value="espagnol" class="bouton_checkbox_modifier" id="langue_modifier_espagnol" type="radio" name="langue_modifier">
                                    <label for="langue_modifier_espagnol">Espagnol</label>
                                </div>

                                <div class="contenaire_groupe_bouton_checkbox">
                                    <input name="creer_langue_offre" value="allemand" class="bouton_checkbox_modifier" id="langue_modifier_allemand" type="radio" name="langue_modifier">
                                    <label for="langue_modifier_allemand">Allemand</label>
                                </div>
                            </div>

                            <label for="bouton_logo_modifier">fournissez un logo de votre entreprise :</label>
                            <input name="creer_logo_offre" id="bouton_logo_modifier" type="file" accept=".jpg, .png" required>
                        </div>


                        <!--section de la présentation de l'offre séléctionée (formulaire pour créer)-->
                        <section id="presentation_offre_modifier">
                            <div id="contenaire_presentation_modifier">
                                <h2 class="titre_detaille_offre">Présentation stage</h2>
                                <label for="champ_texte_presentation">Saisissez une introduction de votre stage :</label>
                                <textarea name="creer_presentation_offre" class="champ_texte_creer" placeholder="Nous somme une entreprise de... Le but de notre stage est de ..."></textarea>
                            </div>
                        </section>


                        <!--section des compétences de l'offre séléctionée (formulaire pour créer)-->
                        <section id="competence_offre_modifier">
                            <div id="contenaire_competence_modifier">
                                <h2 class="titre_detaille_offre">Compétence requise</h2>
                                <p>Ajouter les compétences requises pour votre stage :</p>
                                <textarea name="creer_competence_offre" class="champ_texte_creer" placeholder="HTML, CSS, JS, Organisation, ..."></textarea>
                                <!--<button class="bouton_offre" id="ajouter_competence_modifier" type="button">+ Ajouter</button>-->
                            </div>
                        </section>


                        <!--section des avantages de l'offre séléctionée (formulaire pour créer)-->
                        <section id="avantage_offre_modifier">
                            <div id="contenaire_avantage_modifier">
                                <h2 class="titre_detaille_offre">Avantage</h2>
                                <p>Ajouter les avantages qu'apporte votre stage :</p>
                                <textarea name="creer_avantage_offre" class="champ_texte_creer" placeholder="Ticket restaurant, Cantine, ..."></textarea>
                                <!--<button class="bouton_offre" id="ajouter_avantage_modifier" type="button">+ Ajouter</button>-->
                            </div>
                        </section>

                        <!--boutons pour valider ou annuler le remplissage du formulaire de l'offre séléctionée (formulaire pour créer)-->
                        <div id="comfirmation_formulaire_offre">
                            <div id="contenaire_comfirmation_formulaire_offre">
                                <button name="creer_enregistrer_offre" class="bouton_offre" id="bouton_enregistrer" type="submit">Enregistrer</button>
                                <button class="bouton_offre" id="bouton_annuler" type="reset">Annuler</button>
                            </div>

                            <b><p id="message_erreur_offre"></p></b>
                        </div>
                    </form>


                    <form id="formulaire_offre_v2" method="POST">

                        <!--résumé de l'offre séléctionée (formulaire modifier)-->
                        <div id="contenaire_offre_modifier_v2">
                            <h2 class="titre_detaille_offre">Résumer offre</h2>
                            <label for="champ_titre_stage_v2">Saisissez le titre du stage :</label>
                            <input name="modifier_titre_offre_v2" class="champs_texte_modifier_resumer" id="champ_titre_stage_v2" type="text" placeholder="Titre stage" value="<?php echo htmlentities($offre_choisi['Titre']); ?>" required>
                            <label for="champ_nom_entreprise_v2">Saisissez le nom de votre entreprise :</label>
                            <input name="modifier_nom_entreprise_offre_v2" class="champs_texte_modifier_resumer" id="champ_nom_entreprise_v2" type="text" placeholder="Nom enreprise" value="<?php echo htmlentities($offre_choisi['Nom']); ?>" required>
                            <label for="champ_ville_v2">Saisissez le lieu de votre stage :</label>
                            <input name="modifier_ville_entreprise_offre_v2" class="champs_texte_modifier_resumer" id="champ_ville_v2" type="text" placeholder="Ville" value="<?php echo htmlentities($offre_choisi['Villes']); ?>" required>

                            <label for="specialite_modifier_v2">Spécifiez la spécialité du stage :</label>
                            <select name="modifier_specialite_offre_v2" class="liste_deroulante_modifier_resumer" id="specialite_modifier_v2">
                                <option value="generaliste">Généraliste</option>
                                <option value="btp">BTP</option>
                                <option value="informatique">Informatique</option>
                                <option value="s3e">Système éléctronique embarqué</option>
                            </select>

                            <label for="niveau_etude_modifier_v2">Spécifiez le niveau d'étude requis :</label>
                            <select name="modifier_niveau_etude_offre_v2" class="liste_deroulante_modifier_resumer" id="niveau_etude_modifier_v2">
                                <option value="aucun">Aucun</option>
                                <option value="bac+2">Bac +2</option>
                                <option value="bac+3">Bac +3</option>
                                <option value="bac+4">Bac +4</option>
                                <option value="bac+5">Bac +5</option>
                            </select>

                            <label for="duree_contrat_modifier_v2">Spécifiez la durée du stage :</label>
                            <select name="modifier_duree_stage_offre_v2" class="liste_deroulante_modifier_resumer" id="duree_contrat_modifier_v2">
                                <option value="2mois">2 mois ou moins</option>
                                <option value="3mois">3 mois</option>
                                <option value="4mois">4 mois</option>
                                <option value="5mois">5 mois</option>
                                <option value="6mois">6 mois et plus</option>
                            </select>

                            <label for="contenaire_bouton_radio_teletravail_v2">Spécifiez si le télétravail est disponible :</label>
                            <div id="contenaire_bouton_radio_teletravail_v2">
                                <input name="modifier_teletravail_offre_v2" value="oui" class="bouton_radio_modifier_premier" id="teletravail_modifier_oui" type="radio" name="teletravail_modifier" required>
                                <label for="teletravail_modifier_oui">Oui</label>
                                <input name="modifier_teletravail_offre_v2" value="non" class="bouton_radio_modifier" id="teletravail_modifier_non" type="radio" name="teletravail_modifier">
                                <label for="teletravail_modifier_non">Non</label>
                            </div>

                            <label for="salaire_modifier_v2">Spécifiez le salaire du stage :</label>
                            <select name="modifier_salaire_offre_v2" class="liste_deroulante_modifier_resumer" id="salaire_modifier_v2">
                                <option value="+800€">+800€</option>
                                <option value="+1200€">+1200€</option>
                                <option value="+1600€">+1600€</option>
                                <option value="+2000€">+2000€</option>
                            </select>

                            <label for="contenaire_bouton_checkbox_langue_v2">Spécifiez la langue demandé :</label>
                            <div id="contenaire_bouton_checkbox_langue_v2">
                                <div class="contenaire_groupe_bouton_checkbox">
                                    <input name="modifier_langue_offre_v2" value="francais" class="bouton_checkbox_modifier" id="langue_modifier_francais_v2" type="radio" name="langue_modifier">
                                    <label for="langue_modifier_francais_v2">Français</label>
                                </div>

                                <div class="contenaire_groupe_bouton_checkbox">
                                    <input name="modifier_langue_offre_v2" value="anglais" class="bouton_checkbox_modifier" id="langue_modifier_anglais_v2" type="radio" name="langue_modifier">
                                    <label for="langue_modifier_anglais_v2">Anglais</label>
                                </div>

                                <div class="contenaire_groupe_bouton_checkbox">
                                    <input name="modifier_langue_offre_v2" value="espagnol" class="bouton_checkbox_modifier" id="langue_modifier_espagnol_v2" type="radio" name="langue_modifier">
                                    <label for="langue_modifier_espagnol_v2">Espagnol</label>
                                </div>

                                <div class="contenaire_groupe_bouton_checkbox">
                                    <input name="modifier_langue_offre_v2" value="allemand" class="bouton_checkbox_modifier" id="langue_modifier_allemand_v2" type="radio" name="langue_modifier">
                                    <label for="langue_modifier_allemand_v2">Allemand</label>
                                </div>
                            </div>

                            <label for="bouton_logo_modifier_v2">fournissez un logo de votre entreprise :</label>
                            <input name="modifier_logo_offre_v2" id="bouton_logo_modifier_v2" type="file" accept=".jpg, .png" required>
                        </div>


                        <!--section de la présentation de l'offre séléctionée (formulaire pour modifier)-->
                        <section id="presentation_offre_modifier_v2">
                            <div id="contenaire_presentation_modifier_v2">
                                <h2 class="titre_detaille_offre">Présentation stage</h2>
                                <label for="champ_texte_presentation_v2">Saisissez une introduction de votre stage :</label>
                                <textarea name="modifier_presentation_offre_v2" class="champ_texte_creer" placeholder="Nous somme une entreprise de... 
                                Le but de notre stage est de ..."><?php echo htmlentities($offre_choisi['Description_Offre']); ?>
                                </textarea>
                            </div>
                        </section>


                        <!--section des compétences de l'offre séléctionée (formulaire pour modifier)-->
                        <section id="competence_offre_modifier_v2">
                            <div id="contenaire_competence_modifier_v2">
                                <h2 class="titre_detaille_offre">Compétence requise</h2>
                                <p>Ajouter les compétences requises pour votre stage :</p>
                                <textarea name="modifier_competence_offre_v2" class="champ_texte_creer" 
                                placeholder="HTML, CSS, JS, Organisation, ..."><?php echo htmlentities($offre_choisi['Competences']); ?>
                                </textarea>
                                <!--<button class="bouton_offre" id="ajouter_competence_modifier" type="button">+ Ajouter</button>-->
                            </div>
                        </section>


                        <!--section des avantages de l'offre séléctionée (formulaire pour modifier)-->
                        <section id="avantage_offre_modifier_v2">
                            <div id="contenaire_avantage_modifier_v2">
                                <h2 class="titre_detaille_offre">Avantage</h2>
                                <p>Ajouter les avantages qu'apporte votre stage :</p>
                                <textarea name="modifier_avantage_offre_v2" class="champ_texte_creer" 
                                placeholder="Ticket restaurant, Cantine, ..."><?php echo htmlentities($offre_choisi['Avantages']); ?>
                                </textarea>
                                <!--<button class="bouton_offre" id="ajouter_avantage_modifier" type="button">+ Ajouter</button>-->
                            </div>
                        </section>

                        <!--boutons pour valider ou annuler le remplissage du formulaire de l'offre séléctionée (formulaire pour modifier)-->
                        <div id="comfirmation_formulaire_offre_v2">
                            <div id="contenaire_comfirmation_formulaire_offre_v2">
                                <button name="modifier_enregistrer_offre" class="bouton_offre" id="bouton_enregistrer_v2" type="submit">Enregistrer</button>
                                <button class="bouton_offre" id="bouton_annuler_v2" type="reset">Annuler</button>
                            </div>
                            <b><p id="message_erreur_offre_v2"></p></b>
                        </div>
                    </form>
                </section>

                <!--section pour la comfirmation de la suppression de l'offre-->
                <div id="contenaire_comfirmation_suppression">
                    <h2 class="titre_detaille_offre">Êtes-vous sûr de vouloir supprimer cette offre ?</h2>
                    <p id="message_comfirmation_suppression">
                        Une fois supprimer, cette offre ne pourra plus être récupérer 
                        et ne sera plus posté en ligne.
                    </p>

                    <div id="groupe_bouton_suppression">
                        <form action="" method="POST">
                            <input type="hidden" name="id_offre_supprimer" value="<?php echo $offre_choisi['Id_Offre']; ?>">
                            <button name="offre_supprimer" class="bouton_offre" id="bouton_comfirmer_suppression" type="submit" formnovalidate>Comfirmer</button>
                        </form>

                        <button class="bouton_offre" id="bouton_annuler_suppresion" type="button">Annuler</button>
                    </div>
                </div>    
            

                <form id="formulaire_candidature" method="POST">

                    <!--affichage de la candidature de l'offre séléctionée-->
                    <section id="candidature_offre">
                        <div id="contenaire_candidature">
                            <h2>Candidature au poste :</h2>
                            <h2 id="nom_offre_candidature"><?php echo htmlentities($offre_choisi['Titre']); ?></h2>
                            <!--<label for="champ_nom_candidature">Saisissez votre nom :</label>
                            <input class="champs_texte_candidature" id="champ_nom_candidature" type="text" placeholder="Nom" required>
                            <label for="champ_prenom_candidature">Saisissez votre prénom :</label>
                            <input class="champs_texte_candidature" id="champ_prenom_candidature" type="text" placeholder="Prénom" required>-->
                            <label for="champ_adresse_mail_candidature">Saisissez votre adresse email :</label>
                            <input name="postule_mail" class="champs_texte_candidature" id="champ_adresse_mail_candidature" type="text" placeholder="adresse mail éléctronique" required>
                            <!--<label for="champ_ville_candidature">Saisissez votre ville :</label>
                            <input class="champs_texte_candidature" id="champ_ville_candidature" type="text" placeholder="Ville" required>-->
                            <label for="champ_numero_telephone_candidature">Saisissez votre numéro de téléphone :</label>
                            <input name="postule_numero" class="champs_texte_candidature" id="champ_numero_telephone_candidature" type="text" maxlength="10" placeholder="Numéro de téléphone" required>

                            <label for="bouton_cv_candidature">Ajouter votre CV :</label>
                            <input name="postule_cv" id="bouton_cv_candidature" type="file" accept=".jpg, .png">
                            <label for="bouton_lettre_motivation_candidature">Ajouter votre lettre de motivation :</label>
                            <input name="postule_lettre_motivation" id="bouton_lettre_motivation_candidature" type="file" accept=".jpg, .png">

                            <div id="groupe_bouton_candidature">
                                <button name="postule_valider" class="bouton_offre" id="bouton_envoyer_candidature" type="submit">Valider</button>
                                <button class="bouton_offre" id="bouton_annuler_candidature" type="reset">Annuler</button>
                            </div>
                            
                            <b><p id="message_erreur_candidature"></p></b>
                        </div>
                    </section>
                </form>
            </section>
        </main>

        <!--Bas de page commun à toute les pages-->
        <footer>
            <div class="footer">
                <div class="footer-links">
                    <a href="../../index.html">Accueil</a>
                    <a href="offre.html"> Offres</a>
                    <a href="page entreprise1.1.html"> Entreprises </a>
                    <a href="about.html"> A propos</a>
                    <a href="contact.html">Nous contacter</a>
                    <a href="cgu.html">Mentions légales</a>
                    <a href="newsletter.html">Newsletter</a>
                </div>
                <ul id="footer-links-list" class="footer-links-list">
                    <li><a href="../../index.html">Accueil</a></li>
                    <li><a href="offre.html">Offres</a></li>
                    <li><a href="page entreprise1.1.html">Entreprises</a></li>
                    <li><a href="about.html">A propos</a></li>
                    <li><a href="contact.html">Nous contacter</a></li>
                    <li><a href="cgu.html">Mentions légales</a></li>
                    <li><a href="newsletter.html">Newsletter</a></li>
                </ul>
                <div class="social-media">
                    <a href="#"><img src="../assets/eth.png" alt="CESI Ta Chance Web 3"></a>
                    <a href="#"><img src="../assets/twitter.png" alt="Twitter"></a>
                    <a href="https://www.instagram.com/cesi_ta_chance/"><img src="../assets/instagram.png" alt="Instagram"></a>
                </div>
                <p class="copyright"> <span class="cr"> &copy </span> CESI Ta Chance - 2025 Tous droits réservés.</p>
            </div>
        </footer>
    </body>

    <script>
        const userRole = "<?= $_SESSION['role'] ?? 'invite' ?>";
    </script>
    
</html>

<!--javascript de la page-->
<script src="../js/en-tete.js"></script>
<script src="../js/offre.js"></script>
<script src="../js/footer.js"></script>
